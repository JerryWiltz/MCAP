<!DOCTYPE html>
<html>
  <head>
    <title>Guassian Elimination Back Substitution</title> 
    <link href="../styles/assert.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <script type="text/javascript">
      document.write("This is indeed gaussian elimination and back substitution." + "<br>");
/*
      var A = [[ 2, 2, 3,  3],
               [ 4, 7, 7,  1],
               [-2, 4, 5, -7]];     
      
      var A = [[ 3,-2,-1,  7],
               [-2, 5,-3,-12],
               [-1,-3, 8,  9]];    
                  
      var A = [[ 3, -2,  8],
               [-2,  5, -9]];
          
      //series 20 ohm resistor
      var A = [[-.166, -.833, 1, 0, 0],
               [-.833, -.166, 0, 1, 0],
               [    1,     0, 0, 0, 1],
               [    0,     1, 0, 0, 0]];

     
      //2 series 10 ohm resistors should be the same as one 20 ohm resistor
      var A = [[-.0909, -.909,      0,      0, 1, 0, 0],
               [-.909, -.0909,      1,      0, 0, 0, 0],
               [    0,      1, -.0909,  -.909, 0, 0, 0],
               [    0,      0,  -.909, -.0909, 0, 1, 0],
               [    1,      0,      0,      0, 0, 0, 1],
               [    0,      0,      0,      1, 0, 0, 0]];

      
      var A = [[ 1, 2,  3],
               [ 4, 5,  6],
               [ 7, 8, 10]];
      
*/
      // Page 1011 from advanced engineering mathematics
      var A = [[ 3, 5,  2],
               [ 0, 8,  2],
               [ 6, 2,  8]];
      
      var numRows = A.length;
      var numCols = A[0].length;

      // U Matrix: use the forward Elimination routine
      for(var constRow = 0; constRow < numRows; constRow++) { // this row stays the same
        for(var row = constRow+1; row < numRows; row++) { // this row moves down
          var a = -A[row][constRow]/A[constRow][constRow]; // this computes "a"
            for(var col = constRow; col < numCols; col++) { // this sweeps across the columns
              A[row][col] = A[row][col] + a*A[constRow][col];
            }
        }
      }
/*      
      // back substitution routine      
      for(var row = numRows -1; row > -1; row--) {
      var accum = 0;        
        for(var col = numRows -1; col > row; col--) {
        accum = accum + A[row][col]*A[col][numCols -1];
        }
      A[row][numCols -1] = (1/A[row][row]) * (A[row][numCols -1] - accum);  
      }
*/      
      // print out the final answer
      for(var row = 0; row < numRows; row++) {
        for( col = 0; col < numCols; col++) {
          document.write( A[row][col].toFixed(4) + "____");
        }
        document.write("<br>");
      }

    </script>
  </body>
</html>
