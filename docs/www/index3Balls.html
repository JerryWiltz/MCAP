<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width'>
  <title>index3Balls.html</title>
      
    <style>

      .axis text {
        font-size: 10pt;
      }
      .axis .label {
        font-size: 16pt;
      }

	  .grid .tick line{
	  stroke: gray;
	  stroke-dasharray: 3, 3;
	  }

    </style>
	
  
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js'></script>
      <link href='http://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>
  <script src='file:///C:/Users/Jerry/Desktop/MCAP/docs/www/js/app/showTable.js'></script>
</head>
<body id='body'>
<svg></svg>

<script>

//get the data
var multiplier = 1;

var myFilter = [['Freq', 'InsertionLoss'],
				[40  * multiplier, 20  * multiplier],
				[80  * multiplier, 22  * multiplier],
				[120 * multiplier, 80  * multiplier],
				[160 * multiplier, 100 * multiplier],
				[200 * multiplier, 120 * multiplier]];
				
//function to turn data into tsv
var tsv = '';
myFilter.forEach( (element) => {
    tsv += element.join('\t') + '\n';
}); 
		
//turn tsv data into d3 data
var data = d3.tsvParse(tsv);

//change data type from string to float		
data.forEach( (d) => {
	d.Freq = +d.Freq;
	d.InsertionLoss = +d.InsertionLoss;
});

//create the svg
var outerWidth = 500;
var outerHeight = 250;

var margin = { left: 70, top: 10, right: 20, bottom: 60 };

var innerWidth  = outerWidth  - margin.left - margin.right;
var innerHeight = outerHeight - margin.top  - margin.bottom;

var xAxisTitle = "Frequency, GHz";
var xAxisTitleOffset = 48;

var yAxisTitle = "RTN Loss, dB";
var yAxisTitleOffset = 40;

var svg = d3.select('svg')
.attr('width',  outerWidth)
.attr('height', outerHeight);

//create rect around svg
var rect = svg.append('rect')
.attr("width", outerWidth)
.attr("height", outerHeight)
.attr('fill', 'none')
.attr('stroke', 'black')
.attr('stroke-width', '1px');

//scale the data
var xScale = d3.scaleLinear();
var yScale = d3.scaleLinear();

xScale.rangeRound([0, innerWidth]);
yScale.rangeRound([0, innerHeight]);

xScale.domain( d3.extent(data, function (d){ return d['Freq']; }));
yScale.domain( d3.extent(data, function (d){ return d['InsertionLoss']; }));

//append the plot area inside the svg
var g = svg.append('g')
.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

										
//append the x axis and x grid to g
var xAxis = g.append('g')
.attr("class", "x axis")
.attr('transform', 'translate(0,' + innerHeight + ')')
.call(d3.axisBottom(xScale))
.append('text')
.attr("fill", "#000")
.style("text-anchor", "middle")
.attr("transform", "translate(" + (innerWidth / 2) + "," + xAxisTitleOffset + ")")
.attr("class", "label")
.text(xAxisTitle);

var xGrid = g.append('g')
.attr("class", "grid")
.attr('transform', 'translate(0,' + innerHeight + ')')
.call(d3.axisBottom(xScale).tickSize(-innerHeight).tickFormat(""));


//append the y axis and y grid to g
g.append('g')
.attr("class", "y axis")
.call(d3.axisLeft(yScale))
.append('text')
.attr("fill", "#000")
.style("text-anchor", "middle")
.attr("transform", "translate(-" + yAxisTitleOffset + "," + (innerHeight / 2) + ") rotate(-90)")
.attr("class", "label")
.text(yAxisTitle);

g.append('g')
.attr("class", "grid")
.call(d3.axisLeft(yScale).tickSize(-innerWidth).tickFormat("")) 

	
//create the circles and bind the data to them
var circle = g.selectAll('circle').data(data);

//draw the circles
circle.enter().append('circle')
    .attr('cx', function(data) { return xScale(data['Freq']); } )
	.attr('cy', function(data) { return yScale(data['InsertionLoss']); } )
    .attr('r', 3)
	.attr('fill', 'blue');

//create a path element
var path = g.append('path');

//create the line attribute for the path
var line = d3.line(data)
	.x(function(data) { return xScale(data['Freq']); })
	.y(function(data) { return yScale(data['InsertionLoss']); })
	.curve(d3.curveCatmullRom.alpha(.4));

//draw the path
path.attr('d', line(data))
	.attr('fill', 'none')
	.attr('stroke', 'blue')
	.attr('stroke-width', '1px');

	
</script>

	
</body>
</html>
